<div class='demo-app'>
  <div class='demo-app-sidebar'>
    <div class='demo-app-sidebar-section'>
      <h2>Instrucciones</h2>
      <ul class="list-disc">
        <li>Seleccione las fechas y se le pedirá que cree un nuevo evento</li>
        <li>Eventos de arrastrar, soltar y redimensionar</li>
        <li>Haz clic en un evento para eliminarlo</li>
      </ul>
    </div>
    <div class='demo-app-sidebar-section'>
      <label>
        <input type='checkbox' [checked]='calendarVisible()' (change)='handleCalendarToggle()' />
        Mostrar calendario
      </label>
    </div>
    <div class='demo-app-sidebar-section'>
      <label>
        <input type='checkbox' [checked]='calendarOptions().weekends' (change)='handleWeekendsToggle()' />
        Mostrar fines de semana
      </label>
    </div>
    <div class='demo-app-sidebar-section'>
      <h2>Todos los eventos ({{currentEvents().length}})</h2>
      <ul class="list-disc">
        @for (event of currentEvents(); track $index) {
        <li>
          <strong>{{ event.start | date: 'dd/MM/yyyy' }}</strong> - Hora: {{ event.start | date: 'HH:mm' }}
          @if(event.end){
          a {{ event.end | date: 'HH:mm' }}
          }
          - {{ event.title }}
        </li>

        }
      </ul>
    </div>
  </div>

  <div class='demo-app-main'>
    @if(calendarVisible()){
    <full-calendar [options]='calendarOptions()'>
      <ng-template #eventContent let-arg>
        <div class="custom-event w-100 p-2" [ngClass]="getFanClubColorClass(arg.event)">
          <b>{{ arg.timeText }}</b>
          <span class="block">{{ arg.event.title }}</span>
          <span class="block">Lugar: {{ arg.event.extendedProps.location }}</span>
          <span>Peña: {{ arg.event.extendedProps.fanClubName }}</span>
        </div>
      </ng-template>
    </full-calendar>
    }
  </div>
  @if (isModalOpen()) {
  <app-modal-calendar></app-modal-calendar>
  }
</div>